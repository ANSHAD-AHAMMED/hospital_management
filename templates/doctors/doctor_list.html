
{% extends 'admin_list_base.html' %}
{% load static %}

{% block title %}Doctors - Hospital Management System{% endblock %}
{% block page_title %}Doctors{% endblock %}
{% block current_page %}Doctors{% endblock %}

{% block add_url %}{% url 'doctors:add_doctor' %}{% endblock %}
{% block add_text %}Add Doctor{% endblock %}

{% block list_title %}Doctors{% endblock %}
{% block list_subtitle %}Manage doctor profiles and specializations{% endblock %}
{% block search_placeholder %}doctors{% endblock %}

{% block table_headers %}
    <th style="width: 50px;">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="selectAll">
        </div>
    </th>
    <th>ID</th>
    <th>Name</th>
    <th>Specialization</th>
    <th>Contact</th>
    <th style="width: 140px;">Actions</th>
{% endblock %}

{% block table_body %}
    {% for doctor in doctors %}
        <tr data-status="active">
            <td>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="{{ doctor.id }}">
                </div>
            </td>
            <td>{{ doctor.id }}</td>
            <td>
                <div class="d-flex align-items-center gap-2">
                    <i class="fas fa-user-md text-primary"></i>
                    <span>{{ doctor.user.username }}</span>
                </div>
            </td>
            <td>{{ doctor.specialization|default:'-' }}</td>
            <td>{{ doctor.contact|default:'-' }}</td>
            <td>
                {% if user.role == 'admin' %}
                    <a href="{% url 'doctors:edit_doctor' doctor.id %}" class="btn btn-sm btn-outline-primary" data-bs-toggle="tooltip" title="Edit">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a href="{% url 'doctors:delete_doctor' doctor.id %}" class="btn btn-sm btn-outline-danger ms-1" data-confirm-delete="Delete this doctor?">
                        <i class="fas fa-trash"></i>
                    </a>
                {% else %}
                    <span class="text-muted">-</span>
                {% endif %}
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="7" class="text-center py-5">
                <div class="d-flex flex-column align-items-center">
                    <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
                    <h6 class="text-muted">No doctors found</h6>
                    {% if user.role == 'admin' %}
                        <a href="{% url 'doctors:add_doctor' %}" class="btn btn-admin-primary mt-2">
                            <i class="fas fa-plus me-1"></i>Add Doctor
                        </a>
                    {% endif %}
                </div>
            </td>
        </tr>
    {% endfor %}
{% endblock %}

