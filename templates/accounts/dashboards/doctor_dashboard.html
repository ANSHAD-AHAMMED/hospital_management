{% extends 'base.html' %}
{% load static %}

{% block title %}Doctor Dashboard - Hospital Management System{% endblock %}
{% block page_title %}Doctor Dashboard{% endblock %}
{% block current_page %}Dashboard{% endblock %}

{% block page_actions %}
  <a href="{% url 'appointments:appointment_list' %}" class="btn btn-primary">
    <i class="fas fa-calendar me-1"></i>My Appointments
  </a>
{% endblock %}

{% block content %}
<!-- Welcome Banner -->
<div class="alert alert-info mb-4" data-animate>
  <div class="d-flex align-items-center">
    <i class="fas fa-user-md me-2"></i>
    <div>
      <div class="fw-semibold">Welcome back, {{ user.username|default:user.get_full_name|default:'Doctor' }}!</div>
      <small>You are logged in as <strong>{{ user.role|title }}</strong></small>
    </div>
  </div>
  </div>

<!-- Statistics Cards -->
<div class="row mb-4">
  <div class="col-md-4">
    <div class="stat-card" data-animate>
      <div class="stat-number">{{ total_appointments|default:0 }}</div>
      <div class="stat-label">Today's Appointments</div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="stat-card stat-success" data-animate>
      <div class="stat-number">{{ upcoming_appointments|default:0 }}</div>
      <div class="stat-label">Upcoming</div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="stat-card stat-warning" data-animate>
      <div class="stat-number">{{ pending_requests|default:0 }}</div>
      <div class="stat-label">Pending Requests</div>
    </div>
  </div>
  </div>

<!-- Quick Actions -->
<div class="row g-3 mb-4">
  <div class="col-md-6">
    <div class="card" data-animate>
      <div class="card-body d-grid gap-2">
        <a href="{% url 'appointments:appointment_list' %}" class="btn btn-primary">
          <i class="fas fa-calendar-check me-1"></i>View Appointments
        </a>
        <a href="{% url 'appointments:manage_requests' %}" class="btn btn-warning">
          <i class="fas fa-clipboard-list me-1"></i>Manage Requests
        </a>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card" data-animate>
      <div class="card-header">Tips</div>
      <div class="card-body">
        <ul class="mb-0">
          <li>Use the search on appointments to quickly find patients.</li>
          <li>Filter by status to focus on pending or completed tasks.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}
